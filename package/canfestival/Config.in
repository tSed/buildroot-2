config BR2_PACKAGE_CANFESTIVAL
	bool "canfestival"
	depends on BR2_i386 || BR2_x86_64 || BR2_powerpc || BR2_arm
	help
	  CanFestival is an OpenSource CANOpen framework, licensed under
	  LGPLv2.1 and GPLv2 for some drivers (virtual_kernel, lincan and
	  copcican_comedi).

	  http://www.canfestival.org

if BR2_PACKAGE_CANFESTIVAL

choice
	prompt "driver"
	default BR2_PACKAGE_CANFESTIVAL_SOCKET

# - AnaGate CAN(duo) driver [1], PeakSystem CAN drive [2] and
#   CO-PCICAN driver [3] are not available (not packaged in Buildroot),
#   so their support are disabled.
# - virtual_kernel driver disabled because it uses very prehistorical
#   kernel APIs, that have been renamed, or marked as deprecated or
#   removed for a long while. The question has been raised on the
#   canfestival mailing list [3].
#
# [1] http://www.anagate.de/en/index.html
# [2] http://www.peak-system.com/linux/
# [3] http://www.cosateq.com/
# [3] http://sourceforge.net/p/canfestival/mailman/message/32519648/

config BR2_PACKAGE_CANFESTIVAL_VIRTUAL
	bool "virtual"
	help
	  Unix pipe based virtual CAN driver.

comment "virtual_kernel driver needs a Linux kernel to be built"
	depends on !BR2_LINUX_KERNEL

config BR2_PACKAGE_CANFESTIVAL_SOCKET
	bool "socket"
	help
	  SocketCAN (the standard mainline CAN bus interface).

	  http://developer.berlios.de/projects/socketcan/

config BR2_PACKAGE_CANFESTIVAL_LINCAN
	bool "lincan"
	help
	  Lincan driver.

	  http://www.ocera.org/download/components/WP7/lincan-0.3.3.html

config BR2_PACKAGE_CANFESTIVAL_CAN4LINUX
	bool "can4linux"
	help
	  Can4linux driver.

	  http://www.port.de/engl/canprod/hw_can4linux.html

config BR2_PACKAGE_CANFESTIVAL_COPCICAN_LINUX
	bool "copcican_linux"
	help
	  User space driver interface for CO-PCICAN card.


config BR2_PACKAGE_CANFESTIVAL_COPCICAN_COMEDI
	bool "copcican_comedi"
	depends on BR2_LINUX_KERNEL
	help
	  COMEDI driver interface for CO-PCICAN card.

	  http://www.cosateq.com/

comment "copcican_comedi driver needs a Linux kernel to be built"
	depends on !BR2_LINUX_KERNEL

endchoice

config BR2_PACKAGE_CANFESTIVAL_DRIVER
	string
	default "anagate_linux"	  if BR2_PACKAGE_CANFESTIVAL_ANAGATE_LINUX
	default "peak_linux"	  if BR2_PACKAGE_CANFESTIVAL_PEAK_LINUX
	default "virtual"	  if BR2_PACKAGE_CANFESTIVAL_VIRTUAL
	default "socket"	  if BR2_PACKAGE_CANFESTIVAL_SOCKET
	default "lincan"	  if BR2_PACKAGE_CANFESTIVAL_LINCAN
	default "can4linux"	  if BR2_PACKAGE_CANFESTIVAL_CAN4LINUX
	default "copcican_linux"  if BR2_PACKAGE_CANFESTIVAL_COPCICAN_LINUX
	default "copcican_comedi" if BR2_PACKAGE_CANFESTIVAL_COPCICAN_COMEDI

config BR2_PACKAGE_CANFESTIVAL_ADDITIONAL_OPTIONS
	string "additional configure options"
	help
	  Additional options can be passed directly to the configure script
	  (e.g.: --MAX_CAN_BUS_ID=..., --SDO_MAX_LENGTH_TRANSFER=...,
	  --SDO_BLOCK_SIZE=...).

config BR2_PACKAGE_CANFESTIVAL_INSTALL_EXAMPLES
	bool "install examples"
	help
	  Install binary application examples.

endif
